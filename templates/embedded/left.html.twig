{% macro menuItem(nav,par,dept) %}
    {% import _self as macros %}

    <a style="display: inline-block;" href="{{ path("knowledge_read",{"path":nav.path}) }}">
        {% if nav.hasReadme %}
            <i class="fas fa-folder"></i>

        {% elseif nav.isFolder %}

            <i class="fad fa-folder"></i>
        {% else %}
            <i class="fas fa-file"></i>

        {% endif %}

        {{ nav.name }}
    </a>
    {% if nav.isFolder %}
        <ul class="flex-column nav pl-4">
            {% for sublink in nav.subLinks %}
                {% set at=par ~ loop.index0 %}
                <li class="nav-item">{{ macros.menuItem(sublink,at,dept+1) }}</li>
            {% endfor %}
        </ul>
    {% endif %}
{% endmacro %}
{% import _self as macros %}

<ul class="flex-column nav">

    {% for item in nav.subLinks %}
        {% set dept=0 %}
        {% set at=loop.index0 %}
        <li>
            {{ macros.menuItem(item,at,dept) }}
        </li>
    {% endfor %}
</ul>

